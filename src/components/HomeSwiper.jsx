// import React from "react";
import { Swiper, SwiperSlide } from "swiper/react";
import React, { useEffect, useState } from "react";
// Import Swiper styles
import "swiper/css";
import "swiper/css/pagination";
import "swiper/css/navigation";
import "swiper/css/autoplay";
import { Pagination, Navigation } from "swiper";

const GuestCard = ({ item }) => {
  return (
    <div className="guest_says_card">
      <svg
        width="41"
        height="28"
        viewBox="0 0 41 28"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M27.9004 27.5L32.9004 17.5H22.9004V0H40.4004V17.5L35.4004 27.5H27.9004ZM5.40039 27.5L10.4004 17.5H0.400391V0H17.9004V17.5L12.9004 27.5H5.40039Z"
          fill="rgba(0,0,0,0.3)"
        />
      </svg>
      <div style={{ textAlign: "center" }} className="guest_says_card_para">
        {item?.text.substring(0, 300) + "..."}
      </div>

      <div
        style={{ fontWeight: "500", margin: 6, textTransform: "uppercase" }}
        className="guest_says_card_para"
      >
        {item?.author_name}
      </div>
      <svg
        width="109"
        height="23"
        viewBox="0 0 109 23"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M10.9431 2.0049C11.0868 1.56267 11.7124 1.56267 11.8561 2.0049L13.7166 7.73086C13.7809 7.92863 13.9652 8.06253 14.1731 8.06253L20.1937 8.06253C20.6587 8.06253 20.8521 8.65755 20.4759 8.93086L15.6051 12.4697C15.4368 12.5919 15.3664 12.8086 15.4307 13.0064L17.2912 18.7323C17.4349 19.1745 16.9287 19.5423 16.5525 19.269L11.6817 15.7301C11.5135 15.6079 11.2857 15.6079 11.1175 15.7301L6.24668 19.269C5.8705 19.5423 5.36435 19.1745 5.50804 18.7323L7.36851 13.0064C7.43277 12.8086 7.36238 12.5919 7.19414 12.4697L2.32335 8.93086C1.94717 8.65755 2.1405 8.06253 2.60549 8.06253L8.62612 8.06253C8.83407 8.06253 9.01837 7.92863 9.08263 7.73086L10.9431 2.0049Z"
          fill="#BEDD00"
        />
        <path
          d="M32.5427 2.00508C32.6864 1.56285 33.312 1.56285 33.4557 2.00508L35.3162 7.73104C35.3805 7.92881 35.5648 8.06271 35.7727 8.06271L41.7933 8.06271C42.2583 8.06271 42.4517 8.65773 42.0755 8.93104L37.2047 12.4699C37.0365 12.5921 36.9661 12.8088 37.0303 13.0065L38.8908 18.7325C39.0345 19.1747 38.5283 19.5425 38.1521 19.2692L33.2814 15.7303C33.1131 15.6081 32.8853 15.6081 32.7171 15.7303L27.8463 19.2692C27.4701 19.5425 26.964 19.1747 27.1076 18.7325L28.9681 13.0065C29.0324 12.8088 28.962 12.5921 28.7938 12.4699L23.923 8.93104C23.5468 8.65773 23.7401 8.06271 24.2051 8.06271L30.2257 8.06271C30.4337 8.06271 30.618 7.92881 30.6822 7.73104L32.5427 2.00508Z"
          fill="#BEDD00"
        />
        <path
          d="M54.1433 2.00508C54.287 1.56285 54.9126 1.56285 55.0563 2.00508L56.9168 7.73104C56.981 7.92881 57.1653 8.06271 57.3733 8.06271L63.3939 8.06271C63.8589 8.06271 64.0522 8.65773 63.6761 8.93104L58.8053 12.4699C58.637 12.5921 58.5666 12.8088 58.6309 13.0065L60.4914 18.7325C60.6351 19.1747 60.1289 19.5425 59.7527 19.2692L54.8819 15.7303C54.7137 15.6081 54.4859 15.6081 54.3177 15.7303L49.4469 19.2692C49.0707 19.5425 48.5645 19.1747 48.7082 18.7325L50.5687 13.0065C50.633 12.8088 50.5626 12.5921 50.3943 12.4699L45.5235 8.93104C45.1474 8.65773 45.3407 8.06271 45.8057 8.06271L51.8263 8.06271C52.0343 8.06271 52.2186 7.92881 52.2828 7.73104L54.1433 2.00508Z"
          fill="#BEDD00"
        />
        <path
          d="M75.7429 2.00508C75.8866 1.56285 76.5122 1.56285 76.6559 2.00508L78.5164 7.73104C78.5807 7.92881 78.765 8.06271 78.9729 8.06271L84.9935 8.06271C85.4585 8.06271 85.6519 8.65773 85.2757 8.93104L80.4049 12.4699C80.2366 12.5921 80.1663 12.8088 80.2305 13.0065L82.091 18.7325C82.2347 19.1747 81.7285 19.5425 81.3523 19.2692L76.4816 15.7303C76.3133 15.6081 76.0855 15.6081 75.9173 15.7303L71.0465 19.2692C70.6703 19.5425 70.1642 19.1747 70.3078 18.7325L72.1683 13.0065C72.2326 12.8088 72.1622 12.5921 71.9939 12.4699L67.1232 8.93104C66.747 8.65773 66.9403 8.06271 67.4053 8.06271L73.4259 8.06271C73.6339 8.06271 73.8182 7.92881 73.8824 7.73104L75.7429 2.00508Z"
          fill="#BEDD00"
        />
        <path
          d="M97.3435 2.00508C97.4872 1.56285 98.1128 1.56285 98.2565 2.00508L100.117 7.73104C100.181 7.92881 100.366 8.06271 100.573 8.06271L106.594 8.06271C107.059 8.06271 107.252 8.65773 106.876 8.93104L102.005 12.4699C101.837 12.5921 101.767 12.8088 101.831 13.0065L103.692 18.7325C103.835 19.1747 103.329 19.5425 102.953 19.2692L98.0821 15.7303C97.9139 15.6081 97.6861 15.6081 97.5179 15.7303L92.6471 19.2692C92.2709 19.5425 91.7647 19.1747 91.9084 18.7325L93.7689 13.0065C93.8332 12.8088 93.7628 12.5921 93.5945 12.4699L88.7237 8.93104C88.3476 8.65773 88.5409 8.06271 89.0059 8.06271L95.0265 8.06271C95.2345 8.06271 95.4188 7.92881 95.483 7.73104L97.3435 2.00508Z"
          fill="#BEDD00"
        />
      </svg>
    </div>
  );
};

export default function HomeSwiper({ reviews }) {
  const [slidesPerView, setSlidesPerView] = useState(3);

  function changeSlidesPerView() {
    const windowWidth = document.body.clientWidth;
    if (windowWidth < 470) {
      setSlidesPerView(1);
    } else if (windowWidth < 900) {
      setSlidesPerView(2);
    } else {
      setSlidesPerView(3);
    }
  }

  useEffect(() => {
    changeSlidesPerView();
    window.addEventListener("resize", changeSlidesPerView);
    return () => {
      window.removeEventListener("resize", changeSlidesPerView);
    };
  }, []);
  return (
    <div className="swiper_wrapper">
      <Swiper
        slidesPerView={slidesPerView}
        spaceBetween={30}
        slidesPerGroup={1}
        loop={true}
        autoplay={true}
        loopFillGroupWithBlank={true}
        navigation={false}
        modules={[Navigation]}
        className="mySwiper"
      >
        {reviews &&
          reviews.length &&
          reviews.map((item, index) => {
            return (
              <SwiperSlide key={index}>
                <GuestCard item={item} />
              </SwiperSlide>
            );
          })}
      </Swiper>
    </div>
  );
}
